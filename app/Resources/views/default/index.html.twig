{% extends 'base.html.twig' %}

{% block body %}

<section id="top-header" style="background-color: white;">
    <div class="container">


      <div class="row">

        <div class="col-md-10 col-md-offset-1">

          <div class="overlayed-header">
            <img src="{{ asset('assets/images/local-hands.png') }}" class="hidden-sm hidden-xs img-responsive" alt="Local Hands &amp; Boutique Brands" >
            <img src="{{ asset('assets/images/local-hands-mobile.png') }}" class="visible-xs visible-sm img-responsive" alt="Local Hands &amp; Boutique Brands" >
          </div>

          <div class="below-header hidden-xs hidden-sm">

            <p><a href="{{ path('package_path') }}" class="btn btn-primary btn-lg" style="border-radius: 0px;">Get Started &gt;</a></p>
            <p><a href="#how-it-works" class="btn btn-transparent btn-lg">Show Me How It Works</a></p>

          </div>

        </div> <!-- /.col -->

      </div> <!-- /.row -->

    </div> <!-- /.container -->

</section>

<section id="header-description" style="background-color: white;">

  <div class="container">

    <div class="row">

      <div class="col-md-8 col-md-offset-2" style="text-align: center;">
        <p class="visible-xs visible-sm"><a href="{{ path('package_path') }}" class="btn btn-primary btn-lg btn-fullwidth" style="border-radius: 0px;">Get Started &gt;</a><br><br></p>

        <p class="lead">We’ve partnered with some of the best local skincare Therapists and incredible Boutique brands to bring you the BiBeauty Skincare Package. </p>
        <p class="lead">Get a box of amazing boutique products PLUS a Full Facial from a local Therapist.</p>
      </div>

      <div class="col-md-10 col-md-offset-1">
        <hr class="blue">

        <h2 name="how-it-works" id="how-it-works" style="text-align: center;">HOW IT WORKS</h2>
      </div>

    </div> <!-- /.row -->

    <div class="row">

      <div class="col-md-10 col-md-offset-1">

        <div class="row">

          <div class="col-md-4">
            <figure class="thumbnail info-thumbnail">

              <img src="{{ asset('assets/images/how-it-works-1.png') }}" class="img-responsive" alt="">

              <div class="caption">
                <p class="lead blue">Choose The Perfect Facial</p>
                <p>from one of our talented Skincare Therapists. </p>
              </div>

            </figure>
          </div>

          <div class="col-md-4">
            <figure class="thumbnail info-thumbnail">

              <img src="{{ asset('assets/images/how-it-works-2.png') }}" class="img-responsive" alt="">

              <div class="caption">
                <p class="lead blue">Discover Boutique Brands</p>
                <p>With a box of our hand selected skincare products we deliver to your door.</p>
              </div>

            </figure>

          </div>

          <div class="col-md-4">
            <figure class="thumbnail info-thumbnail">

              <img src="{{ asset('assets/images/how-it-works-3.png') }}" class="img-responsive" alt="">

              <div class="caption">
                <p class="lead blue">Book &amp; Enjoy</p>
                <p>Your treatment and don’t forget to check the mail.</p>
              </div>

            </figure>
          </div>

        </div> <!-- /.row -->

      </div> <!-- /.col -->

    </div> <!-- /.row -->

    <div class="row">

      <div class="col-md-10 col-md-offset-1" style="text-align: center;">

        <h2 style="margin: 5px 0 5px;">$95</h2>
        <p style="margin-top: 0;">
          <span class="blue">UP TO $200 IN VALUE</span> | ALL TAX &amp; SHIPPING INCL.
        </p>

        <p><a href="{{ path('package_path') }}" class="btn btn-primary btn-lg" style="border-radius: 0px;">
          Get Started
        </a></p>
      </div>

    </div>

  </div>

</section>

<section id="top-slider">
    <div class="jumbotron">
        <div class="container">
            <h1>Search and Book Local Beauty<br>Treatments Last Minute</h1>

            <div class="row">
              <div class="col-md-10 col-md-offset-1">
                <div class="form-transparent-wrapper">
                  <form action="{{path('listings_search_path')}}" class="form-inline">

                    <input type="hidden" name="low" value="rating">

                    <div class="form-group">
                      <label class="sr-only" for="JumboLocation">Name</label>
                      <input type="text" name="location" class="form-control input-lg" id="JumboLocation" placeholder="Location" value="Los Angeles" disabled>
                    </div> <!-- /.form-group -->

                    <div class="form-group" id="TreatmentSelect-Wrapper">
                      <label class="sr-only" for="JumboTreatment">Enter Treatment</label>
                      <select data-minimumResultsForSearch="1" data-placeholder="Enter Treatment" class="form-control input-lg" name="treatment" aria-describedby="JumboTreatment">
                        <option style="color: #999;" value="">Treatment</option>
                        {% for category in categories %}
                          <option value="{{category.id }}" class="top-level">{{category.getLabel}}</option>
                          {% for subcategory in category.getChildren %}
                            <option class="bottom-level" value="{{subcategory.id }}">- {{subcategory.getLabel}}</option>
                              {% for subsubcategory in subcategory.getChildren %}
                              <option class="bottom-level" value="{{subsubcategory.id}}">-- {{subsubcategory.getLabel}}</option>
                              {% endfor %}
                          {% endfor %}
                        {% endfor %}
                      </select>
                    </div> <!-- /.form-group -->

                    <select class="sr-only" name="date" aria-describedby="JumboDate" id="DateSelect">
                      <option value="all">Date</option>
                      <option value="all">Today or Tomorrow</option>
                      <option value="today">Today</option>
                      <option value="tomorrow">Tomorrow</option>
                    </select>

                    <div class="form-group">
                        <label class="sr-only" for="JumboDate">Today?</label>
                        <div class="checkbox">
                          <label>
                            Today
                            <input type="checkbox" class="ghetto-checkbox" value="today" checked="checked">
                          </label>
                        </div>
                    </div> <!-- /.form-group -->

                    <div class="form-group">
                        <label class="sr-only" for="JumboDate">Tomorrow?</label>
                        <div class="checkbox">
                          <label>
                            Tomorrow
                            <input type="checkbox" class="ghetto-checkbox" value="tomorrow" checked="checked">
                          </label>
                        </div>
                    </div> <!-- /.form-group -->

                      <div class="form-group" id="searchbar-front">
                        <button type="submit" class="btn btn-default btn-lg">Search</button>
                      </div> <!-- /.form-group -->

                  </form>
                </div> <!-- /.form-transparent-wrapper-->
              </div> <!-- /.col -->
            </div> <!-- /.row -->

        </div>
    </div>
</section>

<section id="get-involved">

    <div class="container">

        <div class="section-header">
            <h2>Want to Get Involved?</h2>
            <br>
        </div>

        <div class="row">

          <div class="col-md-10 col-md-offset-1">

            <div class="row border-between">

              <div class="col-md-5 col-md-offset-1">

                <h4>Local Hands</h4>

                <p>Are you a Therapist and want to create your free profile and begin receiving bookings?</p>

                <p><a class="btn btn-primary" href="{{ path('signup_route') }}">
                  Add Your Business
                </a></p>

                <p>Interested in offering a Treatment with one of our Skincare Packages?</p>

                <p><a class="btn btn-primary" href="{{ path('contact_path') }}">
                  Contact Us
                </a></p>

              </div>

              <div class="col-md-5">

                <h4>Boutique Brands</h4>

                <p>Have a boutique brand and want to participate in one of our Skincare packages?</p>

                <p><a class="btn btn-primary" href="{{ path('contact_path') }}">
                  Contact Us
                </a></p>

              </div>

            </div> <!-- /.row -->

          </div>

        </div>

    </div>

</section>

<style type="text/css">
.select2-dropdown {
  border: 0px;
  border-radius: 0;
}

.select2-container .bottom-level {
  display: none;
}

.select2-container .top-level {
  background-color: #e5e5e5;
  font-weight: bold;
  margin-bottom: 4px;
  margin-top: 4px;
}

.select2-container .top-level:first-child {
  margin-top: 0px;
}

.select2-container.select2-has-query .bottom-level {
  display: list-item;
}
</style>
{% endblock %}
{% block javascripts %}
<script>
  jQuery(function($) {
    $('select[name="treatment"]').select2({
      templateResult: function (data, container) {
        if (data.element) {
          $(container).addClass($(data.element).attr("class"));
        }
        return data.text;
      },
      sorter: function(results, container) {
        var query = $('.select2-search__field').val().toLowerCase();
        var element = $('.select2-container');

        if (query) {
          element.addClass('select2-has-query');
        } else {
          element.removeClass('select2-has-query');
        }

        return results;
      }
    });
    $('.select2-container').on('click', function() {
      var query = $('.select2-search__field');
      query.focus();
    });

  });
</script>
{% endblock %}
